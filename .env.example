# 硅基流动 API 密钥（可选，用于 AI 模型 OCR）
SILICONFLOW_API_KEY=your_siliconflow_api_key_here

# ========================================
# Textin API 配置（默认使用）
# ========================================
# Textin App ID（必填 - 用于图片转 Markdown）
# 获取地址: https://www.textin.com/console/dashboard/setting
TEXTIN_APP_ID=your_textin_app_id_here

# Textin Secret Code（必填）
TEXTIN_SECRET_CODE=your_textin_secret_code_here

# OCR 服务选择（可选，默认为 textin）
# 可选值: textin, siliconflow
# - textin: 使用 Textin API（推荐，专业 OCR 服务）
# - siliconflow: 使用硅基流动 AI 模型
OCR_SERVICE=textin

# 硅基流动 OCR 模型选择（仅当 OCR_SERVICE=siliconflow 时生效）
# 可选值:
# - Qwen/Qwen2.5-7B-Instruct (推荐，阿里通义千问最新模型，稳定性好)
# - Qwen/Qwen2-VL-7B-Instruct (视觉专用模型)
# - Qwen/Qwen2.5-72B-Instruct (更大模型，效果更好)
# - deepseek-ai/DeepSeek-OCR (可能有幻觉问题)
# - meta-llama/Llama-3.2-11B-Vision-Instruct (Meta视觉模型)
OCR_MODEL=Qwen/Qwen2.5-7B-Instruct

# 智谱 GLM API 密钥（可选，用于提炼 OCR 结果）
# 如果不设置，将直接使用 DeepSeek OCR 的原始输出
# 获取地址: https://bigmodel.cn/usercenter/proj-mgmt/apikeys
GLM_API_KEY=your_glm_api_key_here

# GLM 模型名称（可选，默认为 glm-4.5-flash）
# 可选值: glm-4.5-flash, glm-4-flash, glm-4-air, glm-4-plus 等
GLM_MODEL=glm-4.5-flash

# ========================================
# OpenAI 兼容 API 配置（可选）
# ========================================
# 支持任何兼容 OpenAI API 格式的服务
# 例如：Azure OpenAI、LocalAI、Ollama、vLLM 等

# 是否启用 OpenAI 兼容 API（true/false）
OPENAI_ENABLED=false

# OpenAI API 密钥
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI Base URL（API 端点）
# Azure OpenAI: https://your-resource.openai.azure.com/
# LocalAI: http://localhost:8080/
# Ollama: http://localhost:11434/v1
# vLLM: http://localhost:8000/v1
OPENAI_BASE_URL=https://api.openai.com/v1

# OpenAI 模型名称
# GPT-4: gpt-4, gpt-4-turbo, gpt-4o
# GPT-3.5: gpt-3.5-turbo
# Azure: 使用部署名称
# LocalAI/Ollama: 使用对应模型名称
OPENAI_MODEL=gpt-4o

# 服务器端口
PORT=3014

# 前端开发服务器端口
VITE_PORT=5173

# OCR 提示词（可选，如果不设置将使用默认中文提示词）
# 默认提示词针对减少乱码和提升字符识别准确度进行了优化
# 核心原则：准确优先于完整，宁可遗漏也不编造
OCR_PROMPT=你是一个专业的 OCR（光学字符识别）助手。你的任务是从图片中精确提取文字内容并转换为 Markdown 格式。核心原则：准确优先于完整，宁可遗漏也不编造。字符识别规则：1. 精确识别每个字符，特别是数字、标点符号、特殊字符 2. 区分相似字符：0（数字零）vs O（字母O），1（数字一）vs l（小写L）vs I（大写i） 3. 保持字符原样，不要修正拼写错误，不要添加遗漏字符 4. 遇到模糊不清的字符时：如果可以合理推测，输出推测结果；如果完全无法识别，跳过该字符但保持句子连贯；绝对不要编造或随机生成字符 5. 处理多语言内容：中文准确识别每个汉字注意简繁体，英文保持大小写识别标点和特殊符号，数字仔细识别 0-9 不要混淆 1 和 l、0 和 O，代码保持缩进特殊字符换行符 6. 特殊符号处理：正确识别各种引号括号标点数学符号货币符号箭头和其他特殊字符。格式要求：1. 只输出 Markdown 内容本身不要任何解释开场白 2. 直接从 Markdown 内容开始 3. 保持原有结构标题列表代码块表格强调链接等 4. 使用正确的 Markdown 语法 5. 如果图片包含代码使用正确的代码块语法并标注语言标签保持精确的缩进和空格 6. 如果图片包含表格使用 Markdown 表格语法准确对齐列 7. 代码块中的所有字符必须原样保留包括空格制表符特殊符号 8. 不要添加任何原图片中没有的内容。质量控制：每个字符都要有依据不要凭想象添加，不要修正原文即使看起来有错误，代码和命令必须逐字符精确不能有任何偏差，URL 邮箱文件名等必须完全准确。记住：只输出精确识别的 Markdown 内容不要任何对话填充词或解释，准确性比完整性更重要。

# GLM 提炼提示词（可选，如果不设置将使用默认提示词）
# 这个提示词用于指导 GLM 如何从 OCR 结果中提取纯净的 Markdown
GLM_REFINE_PROMPT=你是一个 Markdown 内容提炼专家。你的任务是从 OCR 识别结果中提取纯净的 Markdown 内容。严格要求：1. 只输出纯净的 Markdown 内容 - 移除所有开场白、解释、道歉、说明性文字 2. 保持原有的 Markdown 结构和格式 3. 保留所有标题、列表、代码块、表格、链接等元素 4. 修正明显的格式错误（如列表符号、代码块标记） 5. 不要添加任何原内容中没有的新信息 6. 如果原内容已经是纯净的 Markdown，直接原样输出 7. 绝对不要添加"以下是提炼后的内容"等开场白 8. 直接从 Markdown 内容开始输出。记住：只输出提炼后的纯净 Markdown，不要任何额外文字。
